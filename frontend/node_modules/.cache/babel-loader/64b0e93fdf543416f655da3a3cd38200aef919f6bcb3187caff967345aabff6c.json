{"ast":null,"code":"import * as React from 'react';\nimport { usePrevious, useResizeListener, useEventListener, useMountEffect, useUpdateEffect } from 'primereact/hooks';\nimport { DomHandler, ObjectUtils, classNames } from 'primereact/utils';\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) {\n        ;\n      }\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar VirtualScroller = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var vertical = props.orientation === 'vertical';\n  var horizontal = props.orientation === 'horizontal';\n  var both = props.orientation === 'both';\n  var _React$useState = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    firstState = _React$useState2[0],\n    setFirstState = _React$useState2[1];\n  var _React$useState3 = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    lastState = _React$useState4[0],\n    setLastState = _React$useState4[1];\n  var _React$useState5 = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    numItemsInViewportState = _React$useState6[0],\n    setNumItemsInViewportState = _React$useState6[1];\n  var _React$useState7 = React.useState(props.numToleratedItems),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    numToleratedItemsState = _React$useState8[0],\n    setNumToleratedItemsState = _React$useState8[1];\n  var _React$useState9 = React.useState(props.loading || false),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    loadingState = _React$useState10[0],\n    setLoadingState = _React$useState10[1];\n  var _React$useState11 = React.useState([]),\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\n    loaderArrState = _React$useState12[0],\n    setLoaderArrState = _React$useState12[1];\n  var elementRef = React.useRef(null);\n  var _contentRef = React.useRef(null);\n  var _spacerRef = React.useRef(null);\n  var _stickyRef = React.useRef(null);\n  var lastScrollPos = React.useRef(both ? {\n    top: 0,\n    left: 0\n  } : 0);\n  var scrollTimeout = React.useRef(null);\n  var resizeTimeout = React.useRef(null);\n  var defaultWidth = React.useRef(null);\n  var defaultHeight = React.useRef(null);\n  var prevItems = usePrevious(props.items);\n  var prevLoading = usePrevious(props.loading);\n  var _useResizeListener = useResizeListener({\n      listener: function listener(event) {\n        return onResize();\n      }\n    }),\n    _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\n    bindWindowResizeListener = _useResizeListener2[0];\n  var _useEventListener = useEventListener({\n      target: 'window',\n      type: 'orientationchange',\n      listener: function listener(event) {\n        return onResize();\n      }\n    }),\n    _useEventListener2 = _slicedToArray(_useEventListener, 1),\n    bindOrientationChangeListener = _useEventListener2[0];\n  var getElementRef = function getElementRef() {\n    return elementRef;\n  };\n  var scrollTo = function scrollTo(options) {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n    elementRef.current && elementRef.current.scrollTo(options);\n  };\n  var scrollToIndex = function scrollToIndex(index) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n    var _calculateNumItems = calculateNumItems(),\n      numToleratedItems = _calculateNumItems.numToleratedItems;\n    var calculateFirst = function calculateFirst() {\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\n      return _index <= _numT ? 0 : _index;\n    };\n    var calculateCoord = function calculateCoord(_first, _size) {\n      return _first * _size;\n    };\n    var scrollToItem = function scrollToItem() {\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return scrollTo({\n        left: left,\n        top: top,\n        behavior: behavior\n      });\n    };\n    if (both) {\n      var newFirst = {\n        rows: calculateFirst(index[0], numToleratedItems[0]),\n        cols: calculateFirst(index[1], numToleratedItems[1])\n      };\n      if (newFirst.rows !== firstState.rows || newFirst.cols !== firstState.cols) {\n        scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1]), calculateCoord(newFirst.rows, props.itemSize[0]));\n      }\n    } else {\n      var _newFirst = calculateFirst(index, numToleratedItems);\n      if (_newFirst !== firstState) {\n        horizontal ? scrollToItem(calculateCoord(_newFirst, props.itemSize), 0) : scrollToItem(0, calculateCoord(_newFirst, props.itemSize));\n      }\n    }\n  };\n  var scrollInView = function scrollInView(index, to) {\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n    if (to) {\n      var _getRenderedRange = getRenderedRange(),\n        first = _getRenderedRange.first,\n        viewport = _getRenderedRange.viewport;\n      var scrollToItem = function scrollToItem() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n      var isToStart = to === 'to-start';\n      var isToEnd = to === 'to-end';\n      if (isToStart) {\n        if (both) {\n          if (viewport.first.rows - first.rows > index[0]) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\n          } else if (viewport.first.cols - first.cols > index[1]) {\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.first - first > index) {\n            var pos = (viewport.first - 1) * props.itemSize;\n            horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\n          }\n        }\n      } else if (isToEnd) {\n        if (both) {\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.last - first <= index + 1) {\n            var _pos2 = (viewport.first + 1) * props.itemSize;\n            horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\n          }\n        }\n      }\n    } else {\n      scrollToIndex(index, behavior);\n    }\n  };\n  var getRows = function getRows() {\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\n  };\n  var getColumns = function getColumns() {\n    if (props.columns && both || horizontal) {\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\n    }\n    return props.columns;\n  };\n  var getRenderedRange = function getRenderedRange() {\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n    var firstInViewport = firstState;\n    var lastInViewport = 0;\n    if (elementRef.current) {\n      var _elementRef$current = elementRef.current,\n        scrollTop = _elementRef$current.scrollTop,\n        scrollLeft = _elementRef$current.scrollLeft;\n      if (both) {\n        firstInViewport = {\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\n        };\n        lastInViewport = {\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\n          cols: firstInViewport.cols + numItemsInViewportState.cols\n        };\n      } else {\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\n        lastInViewport = firstInViewport + numItemsInViewportState;\n      }\n    }\n    return {\n      first: firstState,\n      last: lastState,\n      viewport: {\n        first: firstInViewport,\n        last: lastInViewport\n      }\n    };\n  };\n  var calculateNumItems = function calculateNumItems() {\n    var contentPos = getContentPosition();\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\n    };\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n      return Math.ceil(_numItems / 2);\n    };\n    var numItemsInViewport = both ? {\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n    return {\n      numItemsInViewport: numItemsInViewport,\n      numToleratedItems: numToleratedItems\n    };\n  };\n  var calculateOptions = function calculateOptions() {\n    var _calculateNumItems2 = calculateNumItems(),\n      numItemsInViewport = _calculateNumItems2.numItemsInViewport,\n      numToleratedItems = _calculateNumItems2.numToleratedItems;\n    var calculateLast = function calculateLast(_first, _num, _numT, _isCols) {\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n    };\n    var last = both ? {\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\n    setNumItemsInViewportState(numItemsInViewport);\n    setNumToleratedItemsState(numToleratedItems);\n    setLastState(last);\n    if (props.showLoader) {\n      setLoaderArrState(both ? Array.from({\n        length: numItemsInViewport.rows\n      }).map(function () {\n        return Array.from({\n          length: numItemsInViewport.cols\n        });\n      }) : Array.from({\n        length: numItemsInViewport\n      }));\n    }\n    if (props.lazy) {\n      props.onLazyLoad && props.onLazyLoad({\n        first: firstState,\n        last: last\n      });\n    }\n  };\n  var calculateAutoSize = function calculateAutoSize(loading) {\n    if (props.autoSize && !loading) {\n      Promise.resolve().then(function () {\n        if (_contentRef.current) {\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\n          var _contentRef$current = _contentRef.current,\n            offsetWidth = _contentRef$current.offsetWidth,\n            offsetHeight = _contentRef$current.offsetHeight;\n          (both || horizontal) && (elementRef.current.style.width = (offsetWidth < defaultWidth.current ? offsetWidth : defaultWidth.current) + 'px');\n          (both || vertical) && (elementRef.current.style.height = (offsetHeight < defaultHeight.current ? offsetHeight : defaultHeight.current) + 'px');\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\n        }\n      });\n    }\n  };\n  var getLast = function getLast() {\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\n    return props.items ? Math.min(isCols ? (props.columns || props.items[0]).length : props.items.length, last) : 0;\n  };\n  var getContentPosition = function getContentPosition() {\n    if (_contentRef.current) {\n      var style = getComputedStyle(_contentRef.current);\n      var left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n      var right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n      var top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n      var bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n      return {\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        x: left + right,\n        y: top + bottom\n      };\n    }\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  };\n  var setSize = function setSize() {\n    if (elementRef.current) {\n      var parentElement = elementRef.current.parentElement;\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\n      var setProp = function setProp(_name, _value) {\n        return elementRef.current.style[_name] = _value;\n      };\n      if (both || horizontal) {\n        setProp('height', height);\n        setProp('width', width);\n      } else {\n        setProp('height', height);\n      }\n    }\n  };\n  var setSpacerSize = function setSpacerSize() {\n    var items = props.items;\n    if (_spacerRef.current && items) {\n      var contentPos = getContentPosition();\n      var setProp = function setProp(_name, _value, _size) {\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        return _spacerRef.current.style[_name] = (_value || []).length * _size + _cpos + 'px';\n      };\n      if (both) {\n        setProp('height', items, props.itemSize[0], contentPos.y);\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\n      } else {\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\n      }\n    }\n  };\n  var setContentPosition = function setContentPosition(pos) {\n    if (_contentRef.current) {\n      var first = pos ? pos.first : firstState;\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n        return _first * _size;\n      };\n      var setTransform = function setTransform() {\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\n        _contentRef.current.style.transform = \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\");\n      };\n      if (both) {\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\n      } else {\n        var translateVal = calculateTranslateVal(first, props.itemSize);\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n      }\n    }\n  };\n  var onScrollPositionChange = function onScrollPositionChange(event) {\n    var target = event.target;\n    var contentPos = getContentPosition();\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n    };\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n    };\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n    };\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n      var lastValue = _first + _num + 2 * _numT;\n      if (_currentIndex >= _numT) {\n        lastValue += _numT + 1;\n      }\n      return getLast(lastValue, _isCols);\n    };\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var newLast = lastState;\n    var isRangeChanged = false;\n    var newScrollPos = lastScrollPos.current;\n    if (both) {\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\n      var currentIndex = {\n        rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\n        cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\n      };\n      var triggerIndex = {\n        rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n        cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n      };\n      newFirst = {\n        rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n        cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n      };\n      newLast = {\n        rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\n        cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\n      };\n      isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols;\n      newScrollPos = {\n        top: scrollTop,\n        left: scrollLeft\n      };\n    } else {\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\n      var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\n      var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n      newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n      newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\n      isRangeChanged = newFirst !== firstState || newLast !== lastState;\n      newScrollPos = scrollPos;\n    }\n    return {\n      first: newFirst,\n      last: newLast,\n      isRangeChanged: isRangeChanged,\n      scrollPos: newScrollPos\n    };\n  };\n  var onScrollChange = function onScrollChange(event) {\n    var _onScrollPositionChan = onScrollPositionChange(event),\n      first = _onScrollPositionChan.first,\n      last = _onScrollPositionChan.last,\n      isRangeChanged = _onScrollPositionChan.isRangeChanged,\n      scrollPos = _onScrollPositionChan.scrollPos;\n    if (isRangeChanged) {\n      var newState = {\n        first: first,\n        last: last\n      };\n      setContentPosition(newState);\n      setFirstState(first);\n      setLastState(last);\n      lastScrollPos.current = scrollPos;\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\n      if (props.lazy) {\n        props.onLazyLoad && props.onLazyLoad(newState);\n      }\n    }\n  };\n  var onScroll = function onScroll(event) {\n    props.onScroll && props.onScroll(event);\n    if (props.delay) {\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n      if (!loadingState && props.showLoader) {\n        var _onScrollPositionChan2 = onScrollPositionChange(event),\n          changed = _onScrollPositionChan2.isRangeChanged;\n        changed && setLoadingState(true);\n      }\n      scrollTimeout.current = setTimeout(function () {\n        onScrollChange(event);\n        if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\n          setLoadingState(false);\n        }\n      }, props.delay);\n    } else {\n      onScrollChange(event);\n    }\n  };\n  var onResize = function onResize() {\n    if (resizeTimeout.current) {\n      clearTimeout(resizeTimeout.current);\n    }\n    resizeTimeout.current = setTimeout(function () {\n      if (elementRef.current) {\n        var _ref = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n          width = _ref[0],\n          height = _ref[1];\n        var isDiffWidth = width !== defaultWidth.current,\n          isDiffHeight = height !== defaultHeight.current;\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\n        if (reinit) {\n          setNumToleratedItemsState(props.numToleratedItems);\n          defaultWidth.current = width;\n          defaultHeight.current = height;\n        }\n      }\n    }, props.resizeDelay);\n  };\n  var getOptions = function getOptions(renderedIndex) {\n    var count = (props.items || []).length;\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\n    return {\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    };\n  };\n  var loaderOptions = function loaderOptions(index, extOptions) {\n    var count = loaderArrState.length;\n    return _objectSpread({\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    }, extOptions);\n  };\n  var loadedItems = function loadedItems() {\n    var items = props.items;\n    if (items && !loadingState) {\n      if (both) return items.slice(firstState.rows, lastState.rows).map(function (item) {\n        return props.columns ? item : item.slice(firstState.cols, lastState.cols);\n      });else if (horizontal && props.columns) return items;else return items.slice(firstState, lastState);\n    }\n    return [];\n  };\n  var init = function init() {\n    if (!props.disabled) {\n      setSize();\n      calculateOptions();\n      setSpacerSize();\n    }\n  };\n  useMountEffect(function () {\n    if (!props.disabled) {\n      init();\n      bindWindowResizeListener();\n      bindOrientationChangeListener();\n      defaultWidth.current = DomHandler.getWidth(elementRef.current);\n      defaultHeight.current = DomHandler.getHeight(elementRef.current);\n    }\n  });\n  useUpdateEffect(function () {\n    init();\n  }, [props.itemSize, props.scrollHeight]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems !== numToleratedItemsState) {\n      setNumToleratedItemsState(props.numToleratedItems);\n    }\n  }, [props.numToleratedItems]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems === numToleratedItemsState) {\n      init(); // reinit after resizing\n    }\n  }, [numToleratedItemsState]);\n  useUpdateEffect(function () {\n    if (!prevItems || prevItems.length !== (props.items || []).length) {\n      init();\n    }\n    var loading = loadingState;\n    if (props.lazy && prevLoading !== props.loading && props.loading !== loadingState) {\n      setLoadingState(props.loading);\n      loading = props.loading;\n    }\n    calculateAutoSize(loading);\n  });\n  useUpdateEffect(function () {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n  }, [props.orientation]);\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElementRef: getElementRef,\n      scrollTo: scrollTo,\n      scrollToIndex: scrollToIndex,\n      scrollInView: scrollInView,\n      getRenderedRange: getRenderedRange\n    };\n  });\n  var createLoaderItem = function createLoaderItem(index) {\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = loaderOptions(index, extOptions);\n    var content = ObjectUtils.getJSXElement(props.loadingTemplate, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, content);\n  };\n  var createLoader = function createLoader() {\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\n      var className = classNames('p-virtualscroller-loader', {\n        'p-component-overlay': !props.loadingTemplate\n      });\n      var content = /*#__PURE__*/React.createElement(\"i\", {\n        className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n      });\n      if (props.loadingTemplate) {\n        content = loaderArrState.map(function (_, index) {\n          return createLoaderItem(index, both && {\n            numCols: numItemsInViewportState.cols\n          });\n        });\n      } else if (props.loaderIconTemplate) {\n        var defaultContentOptions = {\n          className: 'p-virtualscroller-loading-icon',\n          element: content,\n          props: props\n        };\n        content = ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: className\n      }, content);\n    }\n    return null;\n  };\n  var createSpacer = function createSpacer() {\n    if (props.showSpacer) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: _spacerRef,\n        className: \"p-virtualscroller-spacer\"\n      });\n    }\n    return null;\n  };\n  var createItem = function createItem(item, index) {\n    var options = getOptions(index);\n    var content = ObjectUtils.getJSXElement(props.itemTemplate, item, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: options.index\n    }, content);\n  };\n  var createItems = function createItems() {\n    var items = loadedItems();\n    return items.map(createItem);\n  };\n  var createContent = function createContent() {\n    var items = createItems();\n    var className = classNames('p-virtualscroller-content', {\n      'p-virtualscroller-loading': loadingState\n    });\n    var content = /*#__PURE__*/React.createElement(\"div\", {\n      ref: _contentRef,\n      className: className\n    }, items);\n    if (props.contentTemplate) {\n      var defaultOptions = {\n        className: className,\n        contentRef: function contentRef(el) {\n          return _contentRef.current = ObjectUtils.getRefElement(el);\n        },\n        spacerRef: function spacerRef(el) {\n          return _spacerRef.current = ObjectUtils.getRefElement(el);\n        },\n        stickyRef: function stickyRef(el) {\n          return _stickyRef.current = ObjectUtils.getRefElement(el);\n        },\n        items: loadedItems(),\n        getItemOptions: function getItemOptions(index) {\n          return getOptions(index);\n        },\n        children: items,\n        element: content,\n        props: props,\n        loading: loadingState,\n        getLoaderOptions: function getLoaderOptions(index, ext) {\n          return loaderOptions(index, ext);\n        },\n        loadingTemplate: props.loadingTemplate,\n        itemSize: props.itemSize,\n        rows: getRows(),\n        columns: getColumns(),\n        vertical: vertical,\n        horizontal: horizontal,\n        both: both\n      };\n      return ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\n    }\n    return content;\n  };\n  if (props.disabled) {\n    var content = ObjectUtils.getJSXElement(props.contentTemplate, {\n      items: props.items,\n      rows: props.items,\n      columns: props.columns\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, props.children, content);\n  } else {\n    var otherProps = ObjectUtils.findDiffKeys(props, VirtualScroller.defaultProps);\n    var className = classNames('p-virtualscroller', {\n      'p-both-scroll': both,\n      'p-horizontal-scroll': horizontal\n    }, props.className);\n    var loader = createLoader();\n    var _content = createContent();\n    var spacer = createSpacer();\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      ref: elementRef,\n      className: className,\n      tabIndex: 0,\n      style: props.style\n    }, otherProps, {\n      onScroll: onScroll\n    }), _content, spacer, loader);\n  }\n}));\nVirtualScroller.displayName = 'VirtualScroller';\nVirtualScroller.defaultProps = {\n  __TYPE: 'VirtualScroller',\n  id: null,\n  style: null,\n  className: null,\n  items: null,\n  itemSize: 0,\n  scrollHeight: null,\n  scrollWidth: null,\n  orientation: 'vertical',\n  numToleratedItems: null,\n  delay: 0,\n  resizeDelay: 10,\n  lazy: false,\n  disabled: false,\n  loaderDisabled: false,\n  columns: null,\n  loading: undefined,\n  autoSize: false,\n  showSpacer: true,\n  showLoader: false,\n  loadingTemplate: null,\n  loaderIconTemplate: null,\n  itemTemplate: null,\n  contentTemplate: null,\n  onScroll: null,\n  onScrollIndexChange: null,\n  onLazyLoad: null\n};\nexport { VirtualScroller };","map":{"version":3,"names":["React","usePrevious","useResizeListener","useEventListener","useMountEffect","useUpdateEffect","DomHandler","ObjectUtils","classNames","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_typeof","obj","Symbol","iterator","constructor","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","TypeError","String","Number","_toPropertyKey","arg","_defineProperty","value","defineProperty","enumerable","configurable","writable","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_i","_s","_e","_x","_r","_arr","_n","_d","next","done","push","err","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","n","toString","slice","name","from","test","_nonIterableRest","_slicedToArray","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","VirtualScroller","memo","forwardRef","props","ref","vertical","orientation","horizontal","both","_React$useState","useState","rows","cols","_React$useState2","firstState","setFirstState","_React$useState3","_React$useState4","lastState","setLastState","_React$useState5","_React$useState6","numItemsInViewportState","setNumItemsInViewportState","_React$useState7","numToleratedItems","_React$useState8","numToleratedItemsState","setNumToleratedItemsState","_React$useState9","loading","_React$useState10","loadingState","setLoadingState","_React$useState11","_React$useState12","loaderArrState","setLoaderArrState","elementRef","useRef","_contentRef","_spacerRef","_stickyRef","lastScrollPos","top","left","scrollTimeout","resizeTimeout","defaultWidth","defaultHeight","prevItems","items","prevLoading","_useResizeListener","listener","event","onResize","_useResizeListener2","bindWindowResizeListener","_useEventListener","type","_useEventListener2","bindOrientationChangeListener","getElementRef","scrollTo","options","current","scrollToIndex","index","behavior","_calculateNumItems","calculateNumItems","calculateFirst","_index","_numT","calculateCoord","_first","_size","scrollToItem","newFirst","itemSize","_newFirst","scrollInView","to","_getRenderedRange","getRenderedRange","first","viewport","isToStart","isToEnd","pos","last","_pos2","getRows","loaderDisabled","loadedItems","getColumns","columns","calculateFirstInViewport","_pos","Math","floor","firstInViewport","lastInViewport","_elementRef$current","scrollTop","scrollLeft","scrollPos","contentPos","getContentPosition","contentWidth","offsetWidth","contentHeight","offsetHeight","calculateNumItemsInViewport","_contentSize","_itemSize","ceil","calculateNumToleratedItems","_numItems","numItemsInViewport","calculateOptions","_calculateNumItems2","calculateLast","_num","_isCols","getLast","showLoader","map","lazy","onLazyLoad","calculateAutoSize","autoSize","Promise","resolve","then","style","minHeight","minWidth","_contentRef$current","width","height","isCols","min","getComputedStyle","parseInt","paddingLeft","max","right","paddingRight","paddingTop","bottom","paddingBottom","x","y","setSize","parentElement","scrollWidth","concat","scrollHeight","setProp","_name","_value","setSpacerSize","_cpos","setContentPosition","calculateTranslateVal","setTransform","_y","transform","translateVal","onScrollPositionChange","calculateScrollPos","calculateCurrentIndex","calculateTriggerIndex","_currentIndex","_last","_isScrollDownOrRight","_triggerIndex","lastValue","newLast","isRangeChanged","newScrollPos","isScrollDown","isScrollRight","currentIndex","triggerIndex","isScrollDownOrRight","_currentIndex2","_triggerIndex2","onScrollChange","_onScrollPositionChan","newState","onScrollIndexChange","onScroll","delay","clearTimeout","_onScrollPositionChan2","changed","setTimeout","_ref","getWidth","getHeight","isDiffWidth","isDiffHeight","reinit","resizeDelay","getOptions","renderedIndex","count","even","odd","loaderOptions","extOptions","item","init","disabled","useImperativeHandle","createLoaderItem","content","getJSXElement","loadingTemplate","createElement","Fragment","createLoader","className","_","numCols","loaderIconTemplate","defaultContentOptions","element","createSpacer","showSpacer","createItem","itemTemplate","createItems","createContent","contentTemplate","defaultOptions","contentRef","el","getRefElement","spacerRef","stickyRef","getItemOptions","children","getLoaderOptions","ext","otherProps","findDiffKeys","defaultProps","loader","_content","spacer","tabIndex","displayName","__TYPE","id"],"sources":["D:/University/5th Semester/Software Construction Lab/MATRIX PROJECT/Matrix-MERN-App/frontend/node_modules/primereact/virtualscroller/virtualscroller.esm.js"],"sourcesContent":["import * as React from 'react';\r\nimport { usePrevious, useResizeListener, useEventListener, useMountEffect, useUpdateEffect } from 'primereact/hooks';\r\nimport { DomHandler, ObjectUtils, classNames } from 'primereact/utils';\r\n\r\nfunction _extends() {\r\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\r\n    for (var i = 1; i < arguments.length; i++) {\r\n      var source = arguments[i];\r\n      for (var key in source) {\r\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n          target[key] = source[key];\r\n        }\r\n      }\r\n    }\r\n    return target;\r\n  };\r\n  return _extends.apply(this, arguments);\r\n}\r\n\r\nfunction _typeof(obj) {\r\n  \"@babel/helpers - typeof\";\r\n\r\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\r\n    return typeof obj;\r\n  } : function (obj) {\r\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n  }, _typeof(obj);\r\n}\r\n\r\nfunction _toPrimitive(input, hint) {\r\n  if (_typeof(input) !== \"object\" || input === null) return input;\r\n  var prim = input[Symbol.toPrimitive];\r\n  if (prim !== undefined) {\r\n    var res = prim.call(input, hint || \"default\");\r\n    if (_typeof(res) !== \"object\") return res;\r\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\r\n  }\r\n  return (hint === \"string\" ? String : Number)(input);\r\n}\r\n\r\nfunction _toPropertyKey(arg) {\r\n  var key = _toPrimitive(arg, \"string\");\r\n  return _typeof(key) === \"symbol\" ? key : String(key);\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n  key = _toPropertyKey(key);\r\n  if (key in obj) {\r\n    Object.defineProperty(obj, key, {\r\n      value: value,\r\n      enumerable: true,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n  } else {\r\n    obj[key] = value;\r\n  }\r\n  return obj;\r\n}\r\n\r\nfunction _arrayWithHoles(arr) {\r\n  if (Array.isArray(arr)) return arr;\r\n}\r\n\r\nfunction _iterableToArrayLimit(arr, i) {\r\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\r\n  if (null != _i) {\r\n    var _s,\r\n      _e,\r\n      _x,\r\n      _r,\r\n      _arr = [],\r\n      _n = !0,\r\n      _d = !1;\r\n    try {\r\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\r\n        if (Object(_i) !== _i) return;\r\n        _n = !1;\r\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) {\r\n        ;\r\n      }\r\n    } catch (err) {\r\n      _d = !0, _e = err;\r\n    } finally {\r\n      try {\r\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\r\n      } finally {\r\n        if (_d) throw _e;\r\n      }\r\n    }\r\n    return _arr;\r\n  }\r\n}\r\n\r\nfunction _arrayLikeToArray(arr, len) {\r\n  if (len == null || len > arr.length) len = arr.length;\r\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n  }\r\n  return arr2;\r\n}\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n  if (!o) return;\r\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\r\n  var n = Object.prototype.toString.call(o).slice(8, -1);\r\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\r\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\r\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\r\n}\r\n\r\nfunction _nonIterableRest() {\r\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n}\r\n\r\nfunction _slicedToArray(arr, i) {\r\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\r\n}\r\n\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\nvar VirtualScroller = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (props, ref) {\r\n  var vertical = props.orientation === 'vertical';\r\n  var horizontal = props.orientation === 'horizontal';\r\n  var both = props.orientation === 'both';\r\n  var _React$useState = React.useState(both ? {\r\n      rows: 0,\r\n      cols: 0\r\n    } : 0),\r\n    _React$useState2 = _slicedToArray(_React$useState, 2),\r\n    firstState = _React$useState2[0],\r\n    setFirstState = _React$useState2[1];\r\n  var _React$useState3 = React.useState(both ? {\r\n      rows: 0,\r\n      cols: 0\r\n    } : 0),\r\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\r\n    lastState = _React$useState4[0],\r\n    setLastState = _React$useState4[1];\r\n  var _React$useState5 = React.useState(both ? {\r\n      rows: 0,\r\n      cols: 0\r\n    } : 0),\r\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\r\n    numItemsInViewportState = _React$useState6[0],\r\n    setNumItemsInViewportState = _React$useState6[1];\r\n  var _React$useState7 = React.useState(props.numToleratedItems),\r\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\r\n    numToleratedItemsState = _React$useState8[0],\r\n    setNumToleratedItemsState = _React$useState8[1];\r\n  var _React$useState9 = React.useState(props.loading || false),\r\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\r\n    loadingState = _React$useState10[0],\r\n    setLoadingState = _React$useState10[1];\r\n  var _React$useState11 = React.useState([]),\r\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\r\n    loaderArrState = _React$useState12[0],\r\n    setLoaderArrState = _React$useState12[1];\r\n  var elementRef = React.useRef(null);\r\n  var _contentRef = React.useRef(null);\r\n  var _spacerRef = React.useRef(null);\r\n  var _stickyRef = React.useRef(null);\r\n  var lastScrollPos = React.useRef(both ? {\r\n    top: 0,\r\n    left: 0\r\n  } : 0);\r\n  var scrollTimeout = React.useRef(null);\r\n  var resizeTimeout = React.useRef(null);\r\n  var defaultWidth = React.useRef(null);\r\n  var defaultHeight = React.useRef(null);\r\n  var prevItems = usePrevious(props.items);\r\n  var prevLoading = usePrevious(props.loading);\r\n  var _useResizeListener = useResizeListener({\r\n      listener: function listener(event) {\r\n        return onResize();\r\n      }\r\n    }),\r\n    _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\r\n    bindWindowResizeListener = _useResizeListener2[0];\r\n  var _useEventListener = useEventListener({\r\n      target: 'window',\r\n      type: 'orientationchange',\r\n      listener: function listener(event) {\r\n        return onResize();\r\n      }\r\n    }),\r\n    _useEventListener2 = _slicedToArray(_useEventListener, 1),\r\n    bindOrientationChangeListener = _useEventListener2[0];\r\n  var getElementRef = function getElementRef() {\r\n    return elementRef;\r\n  };\r\n  var scrollTo = function scrollTo(options) {\r\n    lastScrollPos.current = both ? {\r\n      top: 0,\r\n      left: 0\r\n    } : 0;\r\n    elementRef.current && elementRef.current.scrollTo(options);\r\n  };\r\n  var scrollToIndex = function scrollToIndex(index) {\r\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\r\n    var _calculateNumItems = calculateNumItems(),\r\n      numToleratedItems = _calculateNumItems.numToleratedItems;\r\n    var calculateFirst = function calculateFirst() {\r\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\r\n      return _index <= _numT ? 0 : _index;\r\n    };\r\n    var calculateCoord = function calculateCoord(_first, _size) {\r\n      return _first * _size;\r\n    };\r\n    var scrollToItem = function scrollToItem() {\r\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n      return scrollTo({\r\n        left: left,\r\n        top: top,\r\n        behavior: behavior\r\n      });\r\n    };\r\n    if (both) {\r\n      var newFirst = {\r\n        rows: calculateFirst(index[0], numToleratedItems[0]),\r\n        cols: calculateFirst(index[1], numToleratedItems[1])\r\n      };\r\n      if (newFirst.rows !== firstState.rows || newFirst.cols !== firstState.cols) {\r\n        scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1]), calculateCoord(newFirst.rows, props.itemSize[0]));\r\n      }\r\n    } else {\r\n      var _newFirst = calculateFirst(index, numToleratedItems);\r\n      if (_newFirst !== firstState) {\r\n        horizontal ? scrollToItem(calculateCoord(_newFirst, props.itemSize), 0) : scrollToItem(0, calculateCoord(_newFirst, props.itemSize));\r\n      }\r\n    }\r\n  };\r\n  var scrollInView = function scrollInView(index, to) {\r\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\r\n    if (to) {\r\n      var _getRenderedRange = getRenderedRange(),\r\n        first = _getRenderedRange.first,\r\n        viewport = _getRenderedRange.viewport;\r\n      var scrollToItem = function scrollToItem() {\r\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n        return scrollTo({\r\n          left: left,\r\n          top: top,\r\n          behavior: behavior\r\n        });\r\n      };\r\n      var isToStart = to === 'to-start';\r\n      var isToEnd = to === 'to-end';\r\n      if (isToStart) {\r\n        if (both) {\r\n          if (viewport.first.rows - first.rows > index[0]) {\r\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\r\n          } else if (viewport.first.cols - first.cols > index[1]) {\r\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\r\n          }\r\n        } else {\r\n          if (viewport.first - first > index) {\r\n            var pos = (viewport.first - 1) * props.itemSize;\r\n            horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\r\n          }\r\n        }\r\n      } else if (isToEnd) {\r\n        if (both) {\r\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\r\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\r\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\r\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\r\n          }\r\n        } else {\r\n          if (viewport.last - first <= index + 1) {\r\n            var _pos2 = (viewport.first + 1) * props.itemSize;\r\n            horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      scrollToIndex(index, behavior);\r\n    }\r\n  };\r\n  var getRows = function getRows() {\r\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\r\n  };\r\n  var getColumns = function getColumns() {\r\n    if (props.columns && both || horizontal) {\r\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\r\n    }\r\n    return props.columns;\r\n  };\r\n  var getRenderedRange = function getRenderedRange() {\r\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\r\n      return Math.floor(_pos / (_size || _pos));\r\n    };\r\n    var firstInViewport = firstState;\r\n    var lastInViewport = 0;\r\n    if (elementRef.current) {\r\n      var _elementRef$current = elementRef.current,\r\n        scrollTop = _elementRef$current.scrollTop,\r\n        scrollLeft = _elementRef$current.scrollLeft;\r\n      if (both) {\r\n        firstInViewport = {\r\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\r\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\r\n        };\r\n        lastInViewport = {\r\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\r\n          cols: firstInViewport.cols + numItemsInViewportState.cols\r\n        };\r\n      } else {\r\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\r\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\r\n        lastInViewport = firstInViewport + numItemsInViewportState;\r\n      }\r\n    }\r\n    return {\r\n      first: firstState,\r\n      last: lastState,\r\n      viewport: {\r\n        first: firstInViewport,\r\n        last: lastInViewport\r\n      }\r\n    };\r\n  };\r\n  var calculateNumItems = function calculateNumItems() {\r\n    var contentPos = getContentPosition();\r\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\r\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\r\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\r\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\r\n    };\r\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\r\n      return Math.ceil(_numItems / 2);\r\n    };\r\n    var numItemsInViewport = both ? {\r\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\r\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\r\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\r\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\r\n    return {\r\n      numItemsInViewport: numItemsInViewport,\r\n      numToleratedItems: numToleratedItems\r\n    };\r\n  };\r\n  var calculateOptions = function calculateOptions() {\r\n    var _calculateNumItems2 = calculateNumItems(),\r\n      numItemsInViewport = _calculateNumItems2.numItemsInViewport,\r\n      numToleratedItems = _calculateNumItems2.numToleratedItems;\r\n    var calculateLast = function calculateLast(_first, _num, _numT, _isCols) {\r\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\r\n    };\r\n    var last = both ? {\r\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\r\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\r\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\r\n    setNumItemsInViewportState(numItemsInViewport);\r\n    setNumToleratedItemsState(numToleratedItems);\r\n    setLastState(last);\r\n    if (props.showLoader) {\r\n      setLoaderArrState(both ? Array.from({\r\n        length: numItemsInViewport.rows\r\n      }).map(function () {\r\n        return Array.from({\r\n          length: numItemsInViewport.cols\r\n        });\r\n      }) : Array.from({\r\n        length: numItemsInViewport\r\n      }));\r\n    }\r\n    if (props.lazy) {\r\n      props.onLazyLoad && props.onLazyLoad({\r\n        first: firstState,\r\n        last: last\r\n      });\r\n    }\r\n  };\r\n  var calculateAutoSize = function calculateAutoSize(loading) {\r\n    if (props.autoSize && !loading) {\r\n      Promise.resolve().then(function () {\r\n        if (_contentRef.current) {\r\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\r\n          var _contentRef$current = _contentRef.current,\r\n            offsetWidth = _contentRef$current.offsetWidth,\r\n            offsetHeight = _contentRef$current.offsetHeight;\r\n          (both || horizontal) && (elementRef.current.style.width = (offsetWidth < defaultWidth.current ? offsetWidth : defaultWidth.current) + 'px');\r\n          (both || vertical) && (elementRef.current.style.height = (offsetHeight < defaultHeight.current ? offsetHeight : defaultHeight.current) + 'px');\r\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\r\n        }\r\n      });\r\n    }\r\n  };\r\n  var getLast = function getLast() {\r\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\r\n    return props.items ? Math.min(isCols ? (props.columns || props.items[0]).length : props.items.length, last) : 0;\r\n  };\r\n  var getContentPosition = function getContentPosition() {\r\n    if (_contentRef.current) {\r\n      var style = getComputedStyle(_contentRef.current);\r\n      var left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\r\n      var right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\r\n      var top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\r\n      var bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\r\n      return {\r\n        left: left,\r\n        right: right,\r\n        top: top,\r\n        bottom: bottom,\r\n        x: left + right,\r\n        y: top + bottom\r\n      };\r\n    }\r\n    return {\r\n      left: 0,\r\n      right: 0,\r\n      top: 0,\r\n      bottom: 0,\r\n      x: 0,\r\n      y: 0\r\n    };\r\n  };\r\n  var setSize = function setSize() {\r\n    if (elementRef.current) {\r\n      var parentElement = elementRef.current.parentElement;\r\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\r\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\r\n      var setProp = function setProp(_name, _value) {\r\n        return elementRef.current.style[_name] = _value;\r\n      };\r\n      if (both || horizontal) {\r\n        setProp('height', height);\r\n        setProp('width', width);\r\n      } else {\r\n        setProp('height', height);\r\n      }\r\n    }\r\n  };\r\n  var setSpacerSize = function setSpacerSize() {\r\n    var items = props.items;\r\n    if (_spacerRef.current && items) {\r\n      var contentPos = getContentPosition();\r\n      var setProp = function setProp(_name, _value, _size) {\r\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\r\n        return _spacerRef.current.style[_name] = (_value || []).length * _size + _cpos + 'px';\r\n      };\r\n      if (both) {\r\n        setProp('height', items, props.itemSize[0], contentPos.y);\r\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\r\n      } else {\r\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\r\n      }\r\n    }\r\n  };\r\n  var setContentPosition = function setContentPosition(pos) {\r\n    if (_contentRef.current) {\r\n      var first = pos ? pos.first : firstState;\r\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\r\n        return _first * _size;\r\n      };\r\n      var setTransform = function setTransform() {\r\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\r\n        _contentRef.current.style.transform = \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\");\r\n      };\r\n      if (both) {\r\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\r\n      } else {\r\n        var translateVal = calculateTranslateVal(first, props.itemSize);\r\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\r\n      }\r\n    }\r\n  };\r\n  var onScrollPositionChange = function onScrollPositionChange(event) {\r\n    var target = event.target;\r\n    var contentPos = getContentPosition();\r\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\r\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\r\n    };\r\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\r\n      return Math.floor(_pos / (_size || _pos));\r\n    };\r\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\r\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\r\n    };\r\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\r\n      if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\r\n    };\r\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\r\n      var lastValue = _first + _num + 2 * _numT;\r\n      if (_currentIndex >= _numT) {\r\n        lastValue += _numT + 1;\r\n      }\r\n      return getLast(lastValue, _isCols);\r\n    };\r\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\r\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\r\n    var newFirst = both ? {\r\n      rows: 0,\r\n      cols: 0\r\n    } : 0;\r\n    var newLast = lastState;\r\n    var isRangeChanged = false;\r\n    var newScrollPos = lastScrollPos.current;\r\n    if (both) {\r\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\r\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\r\n      var currentIndex = {\r\n        rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\r\n        cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\r\n      };\r\n      var triggerIndex = {\r\n        rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\r\n        cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\r\n      };\r\n      newFirst = {\r\n        rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\r\n        cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\r\n      };\r\n      newLast = {\r\n        rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\r\n        cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\r\n      };\r\n      isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols;\r\n      newScrollPos = {\r\n        top: scrollTop,\r\n        left: scrollLeft\r\n      };\r\n    } else {\r\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\r\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\r\n      var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\r\n      var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\r\n      newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\r\n      newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\r\n      isRangeChanged = newFirst !== firstState || newLast !== lastState;\r\n      newScrollPos = scrollPos;\r\n    }\r\n    return {\r\n      first: newFirst,\r\n      last: newLast,\r\n      isRangeChanged: isRangeChanged,\r\n      scrollPos: newScrollPos\r\n    };\r\n  };\r\n  var onScrollChange = function onScrollChange(event) {\r\n    var _onScrollPositionChan = onScrollPositionChange(event),\r\n      first = _onScrollPositionChan.first,\r\n      last = _onScrollPositionChan.last,\r\n      isRangeChanged = _onScrollPositionChan.isRangeChanged,\r\n      scrollPos = _onScrollPositionChan.scrollPos;\r\n    if (isRangeChanged) {\r\n      var newState = {\r\n        first: first,\r\n        last: last\r\n      };\r\n      setContentPosition(newState);\r\n      setFirstState(first);\r\n      setLastState(last);\r\n      lastScrollPos.current = scrollPos;\r\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\r\n      if (props.lazy) {\r\n        props.onLazyLoad && props.onLazyLoad(newState);\r\n      }\r\n    }\r\n  };\r\n  var onScroll = function onScroll(event) {\r\n    props.onScroll && props.onScroll(event);\r\n    if (props.delay) {\r\n      if (scrollTimeout.current) {\r\n        clearTimeout(scrollTimeout.current);\r\n      }\r\n      if (!loadingState && props.showLoader) {\r\n        var _onScrollPositionChan2 = onScrollPositionChange(event),\r\n          changed = _onScrollPositionChan2.isRangeChanged;\r\n        changed && setLoadingState(true);\r\n      }\r\n      scrollTimeout.current = setTimeout(function () {\r\n        onScrollChange(event);\r\n        if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\r\n          setLoadingState(false);\r\n        }\r\n      }, props.delay);\r\n    } else {\r\n      onScrollChange(event);\r\n    }\r\n  };\r\n  var onResize = function onResize() {\r\n    if (resizeTimeout.current) {\r\n      clearTimeout(resizeTimeout.current);\r\n    }\r\n    resizeTimeout.current = setTimeout(function () {\r\n      if (elementRef.current) {\r\n        var _ref = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\r\n          width = _ref[0],\r\n          height = _ref[1];\r\n        var isDiffWidth = width !== defaultWidth.current,\r\n          isDiffHeight = height !== defaultHeight.current;\r\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\r\n        if (reinit) {\r\n          setNumToleratedItemsState(props.numToleratedItems);\r\n          defaultWidth.current = width;\r\n          defaultHeight.current = height;\r\n        }\r\n      }\r\n    }, props.resizeDelay);\r\n  };\r\n  var getOptions = function getOptions(renderedIndex) {\r\n    var count = (props.items || []).length;\r\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\r\n    return {\r\n      index: index,\r\n      count: count,\r\n      first: index === 0,\r\n      last: index === count - 1,\r\n      even: index % 2 === 0,\r\n      odd: index % 2 !== 0,\r\n      props: props\r\n    };\r\n  };\r\n  var loaderOptions = function loaderOptions(index, extOptions) {\r\n    var count = loaderArrState.length;\r\n    return _objectSpread({\r\n      index: index,\r\n      count: count,\r\n      first: index === 0,\r\n      last: index === count - 1,\r\n      even: index % 2 === 0,\r\n      odd: index % 2 !== 0,\r\n      props: props\r\n    }, extOptions);\r\n  };\r\n  var loadedItems = function loadedItems() {\r\n    var items = props.items;\r\n    if (items && !loadingState) {\r\n      if (both) return items.slice(firstState.rows, lastState.rows).map(function (item) {\r\n        return props.columns ? item : item.slice(firstState.cols, lastState.cols);\r\n      });else if (horizontal && props.columns) return items;else return items.slice(firstState, lastState);\r\n    }\r\n    return [];\r\n  };\r\n  var init = function init() {\r\n    if (!props.disabled) {\r\n      setSize();\r\n      calculateOptions();\r\n      setSpacerSize();\r\n    }\r\n  };\r\n  useMountEffect(function () {\r\n    if (!props.disabled) {\r\n      init();\r\n      bindWindowResizeListener();\r\n      bindOrientationChangeListener();\r\n      defaultWidth.current = DomHandler.getWidth(elementRef.current);\r\n      defaultHeight.current = DomHandler.getHeight(elementRef.current);\r\n    }\r\n  });\r\n  useUpdateEffect(function () {\r\n    init();\r\n  }, [props.itemSize, props.scrollHeight]);\r\n  useUpdateEffect(function () {\r\n    if (props.numToleratedItems !== numToleratedItemsState) {\r\n      setNumToleratedItemsState(props.numToleratedItems);\r\n    }\r\n  }, [props.numToleratedItems]);\r\n  useUpdateEffect(function () {\r\n    if (props.numToleratedItems === numToleratedItemsState) {\r\n      init(); // reinit after resizing\r\n    }\r\n  }, [numToleratedItemsState]);\r\n  useUpdateEffect(function () {\r\n    if (!prevItems || prevItems.length !== (props.items || []).length) {\r\n      init();\r\n    }\r\n    var loading = loadingState;\r\n    if (props.lazy && prevLoading !== props.loading && props.loading !== loadingState) {\r\n      setLoadingState(props.loading);\r\n      loading = props.loading;\r\n    }\r\n    calculateAutoSize(loading);\r\n  });\r\n  useUpdateEffect(function () {\r\n    lastScrollPos.current = both ? {\r\n      top: 0,\r\n      left: 0\r\n    } : 0;\r\n  }, [props.orientation]);\r\n  React.useImperativeHandle(ref, function () {\r\n    return {\r\n      props: props,\r\n      getElementRef: getElementRef,\r\n      scrollTo: scrollTo,\r\n      scrollToIndex: scrollToIndex,\r\n      scrollInView: scrollInView,\r\n      getRenderedRange: getRenderedRange\r\n    };\r\n  });\r\n  var createLoaderItem = function createLoaderItem(index) {\r\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n    var options = loaderOptions(index, extOptions);\r\n    var content = ObjectUtils.getJSXElement(props.loadingTemplate, options);\r\n    return /*#__PURE__*/React.createElement(React.Fragment, {\r\n      key: index\r\n    }, content);\r\n  };\r\n  var createLoader = function createLoader() {\r\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\r\n      var className = classNames('p-virtualscroller-loader', {\r\n        'p-component-overlay': !props.loadingTemplate\r\n      });\r\n      var content = /*#__PURE__*/React.createElement(\"i\", {\r\n        className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\r\n      });\r\n      if (props.loadingTemplate) {\r\n        content = loaderArrState.map(function (_, index) {\r\n          return createLoaderItem(index, both && {\r\n            numCols: numItemsInViewportState.cols\r\n          });\r\n        });\r\n      } else if (props.loaderIconTemplate) {\r\n        var defaultContentOptions = {\r\n          className: 'p-virtualscroller-loading-icon',\r\n          element: content,\r\n          props: props\r\n        };\r\n        content = ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\r\n      }\r\n      return /*#__PURE__*/React.createElement(\"div\", {\r\n        className: className\r\n      }, content);\r\n    }\r\n    return null;\r\n  };\r\n  var createSpacer = function createSpacer() {\r\n    if (props.showSpacer) {\r\n      return /*#__PURE__*/React.createElement(\"div\", {\r\n        ref: _spacerRef,\r\n        className: \"p-virtualscroller-spacer\"\r\n      });\r\n    }\r\n    return null;\r\n  };\r\n  var createItem = function createItem(item, index) {\r\n    var options = getOptions(index);\r\n    var content = ObjectUtils.getJSXElement(props.itemTemplate, item, options);\r\n    return /*#__PURE__*/React.createElement(React.Fragment, {\r\n      key: options.index\r\n    }, content);\r\n  };\r\n  var createItems = function createItems() {\r\n    var items = loadedItems();\r\n    return items.map(createItem);\r\n  };\r\n  var createContent = function createContent() {\r\n    var items = createItems();\r\n    var className = classNames('p-virtualscroller-content', {\r\n      'p-virtualscroller-loading': loadingState\r\n    });\r\n    var content = /*#__PURE__*/React.createElement(\"div\", {\r\n      ref: _contentRef,\r\n      className: className\r\n    }, items);\r\n    if (props.contentTemplate) {\r\n      var defaultOptions = {\r\n        className: className,\r\n        contentRef: function contentRef(el) {\r\n          return _contentRef.current = ObjectUtils.getRefElement(el);\r\n        },\r\n        spacerRef: function spacerRef(el) {\r\n          return _spacerRef.current = ObjectUtils.getRefElement(el);\r\n        },\r\n        stickyRef: function stickyRef(el) {\r\n          return _stickyRef.current = ObjectUtils.getRefElement(el);\r\n        },\r\n        items: loadedItems(),\r\n        getItemOptions: function getItemOptions(index) {\r\n          return getOptions(index);\r\n        },\r\n        children: items,\r\n        element: content,\r\n        props: props,\r\n        loading: loadingState,\r\n        getLoaderOptions: function getLoaderOptions(index, ext) {\r\n          return loaderOptions(index, ext);\r\n        },\r\n        loadingTemplate: props.loadingTemplate,\r\n        itemSize: props.itemSize,\r\n        rows: getRows(),\r\n        columns: getColumns(),\r\n        vertical: vertical,\r\n        horizontal: horizontal,\r\n        both: both\r\n      };\r\n      return ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\r\n    }\r\n    return content;\r\n  };\r\n  if (props.disabled) {\r\n    var content = ObjectUtils.getJSXElement(props.contentTemplate, {\r\n      items: props.items,\r\n      rows: props.items,\r\n      columns: props.columns\r\n    });\r\n    return /*#__PURE__*/React.createElement(React.Fragment, null, props.children, content);\r\n  } else {\r\n    var otherProps = ObjectUtils.findDiffKeys(props, VirtualScroller.defaultProps);\r\n    var className = classNames('p-virtualscroller', {\r\n      'p-both-scroll': both,\r\n      'p-horizontal-scroll': horizontal\r\n    }, props.className);\r\n    var loader = createLoader();\r\n    var _content = createContent();\r\n    var spacer = createSpacer();\r\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\r\n      ref: elementRef,\r\n      className: className,\r\n      tabIndex: 0,\r\n      style: props.style\r\n    }, otherProps, {\r\n      onScroll: onScroll\r\n    }), _content, spacer, loader);\r\n  }\r\n}));\r\nVirtualScroller.displayName = 'VirtualScroller';\r\nVirtualScroller.defaultProps = {\r\n  __TYPE: 'VirtualScroller',\r\n  id: null,\r\n  style: null,\r\n  className: null,\r\n  items: null,\r\n  itemSize: 0,\r\n  scrollHeight: null,\r\n  scrollWidth: null,\r\n  orientation: 'vertical',\r\n  numToleratedItems: null,\r\n  delay: 0,\r\n  resizeDelay: 10,\r\n  lazy: false,\r\n  disabled: false,\r\n  loaderDisabled: false,\r\n  columns: null,\r\n  loading: undefined,\r\n  autoSize: false,\r\n  showSpacer: true,\r\n  showLoader: false,\r\n  loadingTemplate: null,\r\n  loaderIconTemplate: null,\r\n  itemTemplate: null,\r\n  contentTemplate: null,\r\n  onScroll: null,\r\n  onScrollIndexChange: null,\r\n  onLazyLoad: null\r\n};\r\n\r\nexport { VirtualScroller };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}